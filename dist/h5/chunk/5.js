(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"133":function(e,t,a){},"134":function(e,t,a){},"135":function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return b}));var c=a(18),r=a.n(c),n=a(23),s=a(20),i=a(131),o=a(2),l=(a(133),a(46)),u=function Carousel(e){var t,a=e.pictureArray,c=e.videoArray,u=e.sid,d=document.body.offsetHeight,m=document.body.offsetWidth,j=null===(t=document.getElementById("detailPage"))||void 0===t?void 0:t.offsetWidth,p=Object(o.useState)(0),h=Object(s.a)(p,2),b=h[0],f=h[1];return Object(o.useEffect)((function(){console.log("carousel mount");var e=function(){var e=Object(n.a)(r.a.mark((function _callee(e){var t;return r.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(0!==e.length){a.next=2;break}return a.abrupt("return");case 2:(t=new Image).src=e[0],t.onload=function(e){var t=e.currentTarget,a=t.width,c=t.height;f(c/a),console.log(a,c,c/a),console.log(j,m,b*(j||m))};case 5:case"end":return a.stop()}}),_callee)})));return function getFirstPictureSize(t){return e.apply(this,arguments)}}();0!==a.length&&e(a)}),[a,b,m,j]),Object(l.jsxs)(i.l,{"className":"swiper","indicatorColor":"#999","indicatorActiveColor":"#333","vertical":!1,"circular":!1,"indicatorDots":!0,"autoplay":!1,"children":[c.map((function(e){return Object(l.jsx)(i.m,{"className":"swiperItemVideo","style":{"height":"".concat(d,"px")},"children":Object(l.jsx)(i.q,{"id":"mse-"+u,"className":"vodContainer"})},e)})),a.map((function(e){return Object(l.jsx)(i.m,{"className":"swiperItemPicture","style":{"height":0===b?"60vh":"".concat(b*(j||(m>800?800:m)),"px")},"children":Object(l.jsx)(i.c,{"mode":"aspectFit","className":"img","src":e})},e)}))]})},d=a(47),m=a(49),j=a(21),p=a(132),h=a(48),b=(a(134),function StoryBlock(e){var t=e.id,a=(e.uid,e.title),c=e.username,r=(e.viewedTimes,e.coverImgUrl),n=Object(m.b)();return Object(l.jsxs)(i.q,{"className":"storyContainer","onClick":function enterStory(){var e=Object(j.b)();console.log(e);var a,c=[],r=Object(d.a)(e);try{for(r.s();!(a=r.n()).done;){var s=a.value;void 0!==s.$taroParams.sid&&c.push(s.$taroParams.sid)}}catch(e){r.e(e)}finally{r.f()}n(Object(h.b)({"stack":c})),Object(j.e)({"url":"/pages/detailPage/detailPage?sid=".concat(t)})},"children":[Object(l.jsxs)(i.q,{"className":"storyinfo","children":[Object(l.jsx)(i.q,{"className":"storyimage","children":Object(l.jsx)(i.c,{"mode":"widthFix","className":"image","src":r})}),Object(l.jsx)(i.o,{"className":"title","children":a})]}),Object(l.jsxs)(i.q,{"className":"storyappend","children":[Object(l.jsxs)(i.q,{"className":"user","children":[Object(l.jsx)(i.q,{"className":"userImageWrapper","children":Object(l.jsx)(i.q,{"className":"avatar-container","children":Object(l.jsx)(p.a,{"className":"avatar","size":"small","circle":!0,"text":c[0].toUpperCase()})})}),Object(l.jsx)(i.o,{"className":"name","children":c})]}),Object(l.jsx)(i.q,{"className":"like","children":Object(l.jsx)(i.c,{"className":"heart","src":""})})]})]})})},"153":function(e,t,a){},"160":function(e,t,a){"use strict";a.r(t),a.d(t,"Index",(function(){return h}));var c=a(47),r=a(18),n=a.n(r),s=a(23),i=a(20),o=a(2),l=a(131),u=a(132),d=a(169),m=a(136),j=a(135),p=(a(153),a(46)),h=function Index(){var e={"pictureUrlArray":["https://yuandanapp.oss-cn-hangzhou.aliyuncs.com/stories/Garte.webp"],"storyTitle":"xxx","storyContent":"xxx","username":"xxx","walletAddress":"xxx","sid":"xxx","videoArray":[],"posterUriArray":[],"coverImgUrl":""},t=Object(o.useState)([e]),a=Object(i.a)(t,2),r=a[0],h=a[1],b=Object(o.useState)([e]),f=Object(i.a)(b,2),x=f[0],g=f[1],O=function(){var e=Object(s.a)(n.a.mark((function _callee(e){return n.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)({"url":"https://api.yuandan.ac-code.com/weixin_jsapi_signature","method":"GET","header":{"noncestr":"RANDOMACCESSMEMORIES","timestamp":1646967249,"url":window.location.href.split("#")[0]}}).then((function(t){console.log(t);var a=t.data.signature;m.a.config({"debug":!1,"appId":"wx5ae7808267e29706","timestamp":1646967249,"nonceStr":"RANDOMACCESSMEMORIES","signature":a,"jsApiList":["updateAppMessageShareData","updateTimelineShareData"],"openTagList":[]}),m.a.ready((function(){console.log("wx ready"),m.a.updateAppMessageShareData({"title":"元弹","desc":"晒出你的元宇宙生活!","link":"http://m.yuandan.ac-code.com/","imgUrl":e,"success":function success(){throw new Error("Function not implemented.")},"cancel":function cancel(){throw new Error("Function not implemented.")}})}))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),_callee)})));return function getWeixinJsApiSignature(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Object(d.a)({"url":"https://api.yuandan.ac-code.com/explore/","method":"GET","success":function success(e){console.log(e);var t,a=e.data,r=Object(c.a)(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;0!==n.pictureUrlArray.length?n.coverImgUrl=n.pictureUrlArray[0]:0!=n.posterUriArray.length&&(n.coverImgUrl="https://poster.yuandanapi.ac-code.com/"+n.posterUriArray[0]+"~tplv-vod-noop.image")}}catch(e){r.e(e)}finally{r.f()}var s=a.filter((function(e,t){if(t%2==1)return e}));h(s);var i=a.filter((function(e,t){if(t%2==0)return e}));g(i)}});O("https://yuandanapp.oss-cn-hangzhou.aliyuncs.com/stories/Group%202pozit.png")}),[]);var v=Object(o.useState)({"value":""}),y=Object(i.a)(v,2),w=y[0],N=y[1];return Object(p.jsxs)(l.q,{"className":"mainContainer","children":[Object(p.jsx)(l.q,{"className":"header","children":Object(p.jsx)(u.d,{"placeholder":"大家都在搜“Decentraland”","value":w.value,"onChange":function onSearchBarChange(e){N({"value":e})}})}),Object(p.jsx)(u.e,{"current":0,"tabList":[{"title":"发现"},{"title":"关注"}],"onClick":function handleTabChange(){},"children":Object(p.jsx)(u.f,{"current":0,"index":0,"children":Object(p.jsxs)(l.q,{"className":"noteContainer","children":[Object(p.jsx)(l.q,{"className":"column","children":Object(p.jsx)(l.q,{"className":"storyListContainer","children":r.map((function(e){return Object(p.jsx)(j.b,{"id":e.sid,"uid":e.walletAddress,"title":e.storyTitle,"username":e.username,"viewedTimes":100,"coverImgUrl":e.coverImgUrl},e.sid)}))})}),Object(p.jsx)(l.q,{"className":"column","children":Object(p.jsx)(l.q,{"className":"storyListContainer","children":x.map((function(e){return Object(p.jsx)(j.b,{"id":e.sid,"uid":e.walletAddress,"title":e.storyTitle,"username":e.username,"viewedTimes":100,"coverImgUrl":e.coverImgUrl},e.sid)}))})})]})})})]})};t.default=h}}]);